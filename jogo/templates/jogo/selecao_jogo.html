{% extends 'base.html' %}

{% block titulo %}Selecionar jogo{% endblock %}

{% block conteudo %}
<section>
  <h2>Escolha o jogo</h2>

  <form method="get" action=".">
    <label for="professor">Filtrar por professor:</label>
    <select name="professor" id="professor" onchange="this.form.submit()">
      <option value="">-- Todos --</option>
      {% for prof in professores %}
        <option value="{{ prof.id }}" {% if professor_selecionado == prof.id %}selected{% endif %}>
          {{ prof.username }}
        </option>
      {% endfor %}
    </select>

    <label for="tema">Filtrar por tema:</label>
    <select name="tema" id="tema" onchange="this.form.submit()">
      <option value="">-- Todos --</option>
      {% for t in temas %}
        <option value="{{ t.id }}" {% if tema_selecionado == t.id %}selected{% endif %}>
          {{ t.nome }}
        </option>
      {% endfor %}
    </select>
  </form>

  <hr />

  <h3>Palavras dispon√≠veis:</h3>
  {% if palavras %}
    <ul>
      {% for palavra in palavras %}
        <li>
          {{ palavra.texto }} (Tema: {{ palavra.tema.nome }}) -
          <a href="{% url 'jogar' palavra.id %}">Jogar</a>
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p>Nenhuma palavra encontrada para os filtros selecionados.</p>
  {% endif %}
</section>
{% endblock %}
